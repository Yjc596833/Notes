<!--
 * @Author: your name
 * @Date: 2020-11-10 15:11:26
 * @LastEditTime: 2020-11-10 16:45:27
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \Notes\Mysql\存储过程.md
-->
## MYSQL语言层面的代码封装与重用


### 一.  创建语法

``` sql
CREATE PROCEDURE 存储过程名（参数列表）
BEGIN
    存储过程体（一组合法的SQL）
END 
```
#### 注意：

>1. 参数列表包含三部分

> - 参数模式 &nbsp; 参数名 &nbsp; 参数类型

>- 参数模式：
<table>
<thead><tr><th>参数</th> <th>说明</th></tr>
</thead> 
<tbody>
<tr><td>IN</td> <td>该参数可以作为输入，也就是该参数需要调用方法传入值</td></tr> 
<tr><td>OUT</td> <td>该参数可以作为输出，也就是该参数可以作为返回值</td></tr> 
<tr><td>INOUT</td> <td>该参数既可以作为输入又可以作为输出，也就是该参数既需要传入值，又可以返回值</td></tr>
</tbody>
</table>

>2. 如果存储过程体仅仅只有一句话,那么BEGIN END可以省略<br />
存储过程体中的每条SQL语句的结尾要求必须加分号。<br />
存储过程的结尾可以使用 **DELIMITER** 重新设置<br />
语法 <br />
DELIMITER &nbsp; 结束标志<br>
DELIMITER $


### 二. 调用存储过程

``` sql
call 存储过程名(实参列表);
```


### 三.删除存储过程

``` sql
drop procedure sp_name()
```


### 四.其他常用命令

``` sql

show procedure status 显示数据库中所有存储的存储过程基本信息
show create procedure sq_name 显示某一个存储过程的详细信息

```


  
  ### 五. 案例

> - 空参数列表 eg
```sql
  CREATE DEFINER=`test`@`%` PROCEDURE `manager_select`()
  BEGIN
    select	*  from manage_account_roles ;
  END
```
> - 创建爱带in模式参数的存储过程 eg
```sql
  CREATE DEFINER=`test`@`%` PROCEDURE `manage_in`(IN PlayerID int(11))
  BEGIN
      select	*  from manage_account_roles where roleId=PlayerID;
  END
```



